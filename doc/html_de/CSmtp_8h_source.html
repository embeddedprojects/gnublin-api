<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gnublin-api: library/mail/CSmtp.h Quellcode</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Erzeugt von Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Hauptseite</span></a></li>
      <li><a href="annotated.html"><span>Klassen</span></a></li>
      <li class="current"><a href="files.html"><span>Dateien</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Auflistung&nbsp;der&nbsp;Dateien</span></a></li>
      <li><a href="globals.html"><span>Datei-Elemente</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>library/mail/CSmtp.h</h1>  </div>
</div>
<div class="contents">
<a href="CSmtp_8h.html">gehe zur Dokumentation dieser Datei</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// CSmtp.h: interface for the Smtp class.</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#pragma once</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#ifndef __CSMTP_H__</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define __CSMTP_H__</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
<a name="l00017"></a>00017 <span class="comment">//#include &lt;sys/ioctl.h&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;sys/unistd.h&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;netinet/in.h&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;arpa/inet.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;netdb.h&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00023"></a>00023 <span class="comment">//#include &lt;stdio.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="CSmtp_8h.html#a633b0396ff93d336a088412a190a5072">00026</a> <span class="preprocessor">#define SOCKET_ERROR -1</span>
<a name="l00027"></a><a class="code" href="CSmtp_8h.html#a26769957ec1a2beaf223f33b66ee64ab">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define INVALID_SOCKET -1</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>    
<a name="l00029"></a><a class="code" href="CSmtp_8h.html#a197942eefa7db30960ae396d68339b97">00029</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> WORD;
<a name="l00030"></a><a class="code" href="CSmtp_8h.html#a8dc8083897335125630f1af5dafd5831">00030</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> SOCKET;
<a name="l00031"></a><a class="code" href="CSmtp_8h.html#a29046dc0232f0e5c70adbc25090d77b8">00031</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>sockaddr_in <a class="code" href="CSmtp_8h.html#a29046dc0232f0e5c70adbc25090d77b8">SOCKADDR_IN</a>;
<a name="l00032"></a><a class="code" href="CSmtp_8h.html#a2ed3b578d11eb691fef5efd121a40c07">00032</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>hostent* LPHOSTENT;
<a name="l00033"></a><a class="code" href="CSmtp_8h.html#a398c25afc7020446451d2b5ced021aa7">00033</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>servent* LPSERVENT;
<a name="l00034"></a><a class="code" href="CSmtp_8h.html#a5eb9fe09b2c4bdb778a3afe9f4a84655">00034</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>in_addr* LPIN_ADDR;
<a name="l00035"></a><a class="code" href="CSmtp_8h.html#abd6f533b24db41dd613f5e03457a6b79">00035</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>sockaddr* LPSOCKADDR;
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="CSmtp_8h.html#ad3beacef45904ca7d14e068ad4bede93">00037</a> <span class="preprocessor">#define TIME_IN_SEC     10      // how long client will wait for server response in non-blocking mode</span>
<a name="l00038"></a><a class="code" href="CSmtp_8h.html#a6b20d41d6252e9871430c242cb1a56e7">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define BUFFER_SIZE 10240     // SendData and RecvData buffers sizes</span>
<a name="l00039"></a><a class="code" href="CSmtp_8h.html#a9837d11374a325a3e8787dafed8ab8ed">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define MSG_SIZE_IN_MB 5        // the maximum size of the message with all attachments</span>
<a name="l00040"></a><a class="code" href="CSmtp_8h.html#ad8292657d8dd14eecdab2c44dba0a1d3">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define COUNTER_VALUE   100     // how many times program will try to receive data</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a><a class="code" href="CSmtp_8h.html#a660eb6ce768604345522904ebef08b41">00042</a> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="CSmtp_8h.html#a660eb6ce768604345522904ebef08b41">BOUNDARY_TEXT</a>[] = <span class="stringliteral">&quot;__MESSAGE__ID__54yg6f6h6y456345&quot;</span>;
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9e">00044</a> <span class="keyword">enum</span> <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9e">CSmptXPriority</a>
<a name="l00045"></a>00045 {
<a name="l00046"></a><a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9eabf8f58f907c17c79411ee353ecc95f50">00046</a>     <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9eabf8f58f907c17c79411ee353ecc95f50">XPRIORITY_HIGH</a> = 2,
<a name="l00047"></a><a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9ea7f4e97e5aee0f59cb15e739a6284176f">00047</a>     <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9ea7f4e97e5aee0f59cb15e739a6284176f">XPRIORITY_NORMAL</a> = 3,
<a name="l00048"></a><a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9eaf838b63a3181971fb9b981a331957963">00048</a>     <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9eaf838b63a3181971fb9b981a331957963">XPRIORITY_LOW</a> = 4
<a name="l00049"></a>00049 };
<a name="l00050"></a>00050 
<a name="l00064"></a><a class="code" href="classECSmtp.html">00064</a> <span class="keyword">class </span><a class="code" href="classECSmtp.html" title="Klasse für Fehleranalyse der Klasse CSmtp.">ECSmtp</a>
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066 <span class="keyword">public</span>:
<a name="l00067"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12">00067</a>     <span class="keyword">enum</span> <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12">CSmtpError</a>
<a name="l00068"></a>00068     {
<a name="l00069"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a3b83ac2b4b40c8cb0b9514eb4ac7971f">00069</a>         <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a3b83ac2b4b40c8cb0b9514eb4ac7971f">CSMTP_NO_ERROR</a> = 0,
<a name="l00070"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a657145fed8bd90223607934b931a3ed9">00070</a>         <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a657145fed8bd90223607934b931a3ed9">WSA_STARTUP</a> = 100, <span class="comment">// WSAGetLastError()</span>
<a name="l00071"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a4b6d02eac169b8021016619e2153bd24">00071</a>         WSA_VER,
<a name="l00072"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12aa4673593f7e0e03a5d0ec8f437e814ed">00072</a>         WSA_SEND,
<a name="l00073"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ac347533e5655807d7981ef69e01c34ef">00073</a>         WSA_RECV,
<a name="l00074"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12abb6e0bc9f9d889ddd0a1c520689e3da7">00074</a>         WSA_CONNECT,
<a name="l00075"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a041056d6d4df2bd1af9799fdf4c376fa">00075</a>         WSA_GETHOSTBY_NAME_ADDR,
<a name="l00076"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a15e9e3f1b7c0e9832fa81657ccfc6b00">00076</a>         WSA_INVALID_SOCKET,
<a name="l00077"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12af6c7b731a765818b7b85d77c280b9277">00077</a>         WSA_HOSTNAME,
<a name="l00078"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12aa694a1d60078c9a9ac8ae64765637d85">00078</a>         WSA_IOCTLSOCKET,
<a name="l00079"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a6fe9766fb1e0b12dd0df7e0665be7d28">00079</a>         WSA_SELECT,
<a name="l00080"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12afe2e7a0e6a36f8f93818eaa79c237e28">00080</a>         BAD_IPV4_ADDR,
<a name="l00081"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a23ccff785dcbc7f5a871025848dbe54e">00081</a>         <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a23ccff785dcbc7f5a871025848dbe54e">UNDEF_MSG_HEADER</a> = 200,
<a name="l00082"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a1809e1c2d0ad7a9e5d7b120fb9ecd033">00082</a>         UNDEF_MAIL_FROM,
<a name="l00083"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a30986f2d2c0d175d505213433c0e7d8e">00083</a>         UNDEF_SUBJECT,
<a name="l00084"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a4f145d3c22725a86473172d5a01a7ea3">00084</a>         UNDEF_RECIPIENTS,
<a name="l00085"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ad426cabe76f9f338de7aa40ed6ab83d4">00085</a>         UNDEF_LOGIN,
<a name="l00086"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ac7caa184e81ceeb0764ec3861b4a4d85">00086</a>         UNDEF_PASSWORD,
<a name="l00087"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a302391ed759853e1916ff31962689b1b">00087</a>         UNDEF_RECIPIENT_MAIL,
<a name="l00088"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12aa7027c2717db77c227ae99acbe15c928">00088</a>         <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12aa7027c2717db77c227ae99acbe15c928">COMMAND_MAIL_FROM</a> = 300,
<a name="l00089"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a315c098067b873de98deda8b9bf49b53">00089</a>         COMMAND_EHLO,
<a name="l00090"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a781df4c4d2671423e4c20014376be202">00090</a>         COMMAND_AUTH_LOGIN,
<a name="l00091"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a952a9c762c802ef9db6bf0ed108ee884">00091</a>         COMMAND_DATA,
<a name="l00092"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a05f808a7da025941f7f6c1e06b361cb0">00092</a>         COMMAND_QUIT,
<a name="l00093"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a3c3aaee92d08a426c3fcd9c92242d5b8">00093</a>         COMMAND_RCPT_TO,
<a name="l00094"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12abc2f890b051f2e0a0871c7d17756dbf2">00094</a>         MSG_BODY_ERROR,
<a name="l00095"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ac2583007382d26b36632e36f7de5b0e8">00095</a>         <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ac2583007382d26b36632e36f7de5b0e8">CONNECTION_CLOSED</a> = 400, <span class="comment">// by server</span>
<a name="l00096"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ad138c625c790c62013c9de6c88ecadf3">00096</a>         SERVER_NOT_READY, <span class="comment">// remote server</span>
<a name="l00097"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a793de878a40185cea442677b4bc1d06c">00097</a>         SERVER_NOT_RESPONDING,
<a name="l00098"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ad5a3a3ee1e78f3c6613ab7ff67e2be64">00098</a>         SELECT_TIMEOUT,
<a name="l00099"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ad704e526f3e5d020f992ee8b1668a7bb">00099</a>         FILE_NOT_EXIST,
<a name="l00100"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12aebe2ed7eb186ec5b95b52838657639a0">00100</a>         MSG_TOO_BIG,
<a name="l00101"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a53887b5c82db071148bc37e643547204">00101</a>         BAD_LOGIN_PASS,
<a name="l00102"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12affd1753640da8b1abb813b2b49996e04">00102</a>         UNDEF_XYZ_RESPONSE,
<a name="l00103"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ab675f239dda4c9d52e151700485e6b7a">00103</a>         LACK_OF_MEMORY,
<a name="l00104"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12ade56bc751db67c8395c9cbbc4b5f2b41">00104</a>         TIME_ERROR,
<a name="l00105"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12acad4bbd45b572c3be45e0d883d0e5ba8">00105</a>         RECVBUF_IS_EMPTY,
<a name="l00106"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a66c054bb7f0a5c33352ccee060cc2eba">00106</a>         SENDBUF_IS_EMPTY,
<a name="l00107"></a><a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12a71bb24069011119cc66b95a864d057e0">00107</a>         OUT_OF_MSG_RANGE,
<a name="l00108"></a>00108     };
<a name="l00109"></a><a class="code" href="classECSmtp.html#a985d836a94cb94cca7e508e031670492">00109</a>     <a class="code" href="classECSmtp.html#a985d836a94cb94cca7e508e031670492">ECSmtp</a>(<a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12">CSmtpError</a> err_) : ErrorCode(err_) {}
<a name="l00110"></a><a class="code" href="classECSmtp.html#a1f800590407160fe2ef00ef5980d0877">00110</a>     <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12">CSmtpError</a> <a class="code" href="classECSmtp.html#a1f800590407160fe2ef00ef5980d0877">GetErrorNum</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> ErrorCode;}
<a name="l00111"></a>00111     std::string <a class="code" href="classECSmtp.html#abd0cf6e7cf2d7926e493168011bd9972" title="Gibt einen String mit einem spezifischem Fehlercode zurück.">GetErrorText</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="keyword">private</span>:
<a name="l00114"></a>00114     <a class="code" href="classECSmtp.html#a985866116653e1fb1a42d89106ee5a12">CSmtpError</a> ErrorCode;
<a name="l00115"></a>00115 };
<a name="l00116"></a>00116 
<a name="l00128"></a><a class="code" href="classCSmtp.html">00128</a> <span class="keyword">class </span><a class="code" href="classCSmtp.html" title="Klasse um Mails zu versenden.">CSmtp</a>  
<a name="l00129"></a>00129 {
<a name="l00130"></a>00130 <span class="keyword">public</span>:
<a name="l00131"></a>00131     <a class="code" href="classCSmtp.html#a24ac55691a70f85c868694d63c89bd73" title="Richtet die Mail-Klasse ein.">CSmtp</a>();
<a name="l00132"></a>00132     <span class="keyword">virtual</span> <a class="code" href="classCSmtp.html#a2b5ddda3402f54cca423d7aa625abde6" title="Löscht buffer in der Mail-Klasse.">~CSmtp</a>();
<a name="l00133"></a>00133     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a8d92fcd3e8f2b922df3044ed36bf81db" title="Fügt einen neuen Empfänger hinzu.">AddRecipient</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *email, <span class="keyword">const</span> <span class="keywordtype">char</span> *name=NULL);
<a name="l00134"></a>00134     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#aa4a1b716aa89b394d4f28d7dd07b1356" title="Fügt einen neuen BCC-Empfänger hinzu.">AddBCCRecipient</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *email, <span class="keyword">const</span> <span class="keywordtype">char</span> *name=NULL);
<a name="l00135"></a>00135     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a0ca6155793233ab20747c34b0979cee5" title="Fügt einen neuen CC-Empfänger hinzu.">AddCCRecipient</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *email, <span class="keyword">const</span> <span class="keywordtype">char</span> *name=NULL);    
<a name="l00136"></a>00136     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a15d76141522dd3bc20335ea8acc4e0a1" title="Fügt einen neuen Dateianhang hinzu.">AddAttachment</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);   
<a name="l00137"></a>00137     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a6ad4fc5d224b37b4ae91d8e4571620a1" title="Fügt eine neue Zeile in die Nachricht ein.">AddMsgLine</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* text);
<a name="l00138"></a>00138     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a80c6db15778e9a271cb3d10de80fce3c" title="Löscht alle Empfänger.">DelRecipients</a>(<span class="keywordtype">void</span>);
<a name="l00139"></a>00139     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a7d08eeb190f2d55fd85273e87b68c4ce" title="Löscht alle BCC-Empfänger.">DelBCCRecipients</a>(<span class="keywordtype">void</span>);
<a name="l00140"></a>00140     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#ad824a62a8d4f5607b02a63c53f97aa04" title="Löscht alle CC-Empfänger.">DelCCRecipients</a>(<span class="keywordtype">void</span>);
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#ae3fcfae55cf4c649d01ca3f69c9ac524" title="Löscht alle Dateianhänge.">DelAttachments</a>(<span class="keywordtype">void</span>);
<a name="l00142"></a>00142     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a467826d8736818eda71e73086107e946" title="Löscht den Nachrichtentext.">DelMsgLines</a>(<span class="keywordtype">void</span>);
<a name="l00143"></a>00143     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a69d4c16e61f91e63f050d47c30390dcd" title="Löscht eine bestimmte Zeile in der Nachricht.">DelMsgLine</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);
<a name="l00144"></a>00144     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a9141c6b56018b299b1bbe2fb6cf5f0ec" title="Bearbeiten einer bestimmten Nachrichtenzeile.">ModMsgLine</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line,<span class="keyword">const</span> <span class="keywordtype">char</span>* text);
<a name="l00145"></a>00145     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCSmtp.html#a6d85f67fffbc249632cf8a3a4bc837d3" title="Gibt die anzahl der BCC-Empfänger zurück.">GetBCCRecipientCount</a>() <span class="keyword">const</span>;    
<a name="l00146"></a>00146     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCSmtp.html#a3919a503ce7fa0c384ad9521fd66ac2a" title="Gibt die anzahl der CC-Empfänger zurück.">GetCCRecipientCount</a>() <span class="keyword">const</span>;
<a name="l00147"></a>00147     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCSmtp.html#ae5b4cbf00bba0d27a3a34b71a2651c77" title="Gibt die anzahl der Empfänger zurück.">GetRecipientCount</a>() <span class="keyword">const</span>;    
<a name="l00148"></a>00148 <span class="comment">//  const char* GetLocalHostIP() const;</span>
<a name="l00149"></a>00149     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#a07310cfc7a3bc9b2058910f00734aa22" title="Gibt den lokalen Host Namen zurück.">GetLocalHostName</a>() <span class="keyword">const</span>;
<a name="l00150"></a>00150     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#aa28dcfb7cbe6d3d5b7be80f0fb75bb78" title="Gibt Text einer bestimmten Nachrichtenzeile zurück.">GetMsgLineText</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line) <span class="keyword">const</span>;
<a name="l00151"></a>00151     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCSmtp.html#a49f9e0a9349b29e20739a1bef6cfe6d6">GetMsgLines</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00152"></a>00152     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#a719b947b67092569c7dfbbbb9d4785a6" title="Gibt den m_pcReplyTo string zurück.">GetReplyTo</a>() <span class="keyword">const</span>;
<a name="l00153"></a>00153     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#ad0160dbeb3859d69164a60d607c1879d" title="Gibt den m_pcMailFrom string zurück.">GetMailFrom</a>() <span class="keyword">const</span>;
<a name="l00154"></a>00154     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#a4fd300216988765b8042a39cc351ccc3" title="Gibt den m_pcNameFrom string zurück.">GetSenderName</a>() <span class="keyword">const</span>;
<a name="l00155"></a>00155     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#adaf70c3e9046c5c6abbedce60802f7b0" title="Gibt den m_pcSubject string zurück.">GetSubject</a>() <span class="keyword">const</span>;
<a name="l00156"></a>00156     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classCSmtp.html#aa6e0af809b40c15a5c77a7e414d840ee" title="Gibt den m_pcXMailer string zurück.">GetXMailer</a>() <span class="keyword">const</span>;
<a name="l00157"></a>00157     <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9e">CSmptXPriority</a> <a class="code" href="classCSmtp.html#ae3d29feb6c376184209b28b3e67cb80b" title="Gibt den m_pcXPriority string zurück.">GetXPriority</a>() <span class="keyword">const</span>;
<a name="l00158"></a>00158     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a3adfd965cec6f69eda266d2a7958cc5a" title="E-Mail verschicken.">Send</a>();
<a name="l00159"></a>00159     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a4f7ce185fdfd0f35a516063f6aea0b66" title="Betraff der Nachricht festlegen.">SetSubject</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00160"></a>00160     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a062a85b785f687fcbce04633ca629cbd" title="Absendername setzen.">SetSenderName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00161"></a>00161     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a335d09d77d05029019f638b0785c9271" title="Absenderadresse setzen.">SetSenderMail</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#afc20042e2d0399f84611ca3289832582" title="Rücksendeadresse festlegen.">SetReplyTo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00163"></a>00163     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a15ddd4652d1b7d9c9c6a8c14464a6250" title="Name des Absendeprogramms bestimmen.">SetXMailer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00164"></a>00164     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#ae79b1615a78298b570629ebf5a844260" title="SMTP Benutzername angeben.">SetLogin</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00165"></a>00165     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a923fbc7645565febea53e2e1c2377bb7" title="Passwort des SMTP accounts angeben.">SetPassword</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*);
<a name="l00166"></a>00166     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a2e6c45721137eb4e639b084fc1925462" title="Priorität der Nachricht festlegen.">SetXPriority</a>(<a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9e">CSmptXPriority</a>);
<a name="l00167"></a>00167     <span class="keywordtype">void</span> <a class="code" href="classCSmtp.html#a4f91faeda0b0d3185051702d88c271db" title="SMTP Server setzen.">SetSMTPServer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* server,<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> port=0);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="keyword">private</span>:    
<a name="l00170"></a>00170     std::string m_sLocalHostName;
<a name="l00171"></a>00171     std::string m_sMailFrom;
<a name="l00172"></a>00172     std::string m_sNameFrom;
<a name="l00173"></a>00173     std::string m_sSubject;
<a name="l00174"></a>00174     std::string m_sXMailer;
<a name="l00175"></a>00175     std::string m_sReplyTo;
<a name="l00176"></a>00176     std::string m_sIPAddr;
<a name="l00177"></a>00177     std::string m_sLogin;
<a name="l00178"></a>00178     std::string m_sPassword;
<a name="l00179"></a>00179     std::string m_sSMTPSrvName;
<a name="l00180"></a>00180     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> m_iSMTPSrvPort;
<a name="l00181"></a>00181     <a class="code" href="CSmtp_8h.html#aa13c2215060aef424fdaefa05714bf9e">CSmptXPriority</a> m_iXPriority;
<a name="l00182"></a>00182     <span class="keywordtype">char</span> *SendBuf;
<a name="l00183"></a>00183     <span class="keywordtype">char</span> *RecvBuf;
<a name="l00184"></a>00184     
<a name="l00185"></a>00185     <a class="code" href="CSmtp_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a> hSocket;
<a name="l00186"></a>00186 
<a name="l00187"></a>00187     <span class="keyword">struct </span>Recipient
<a name="l00188"></a>00188     {
<a name="l00189"></a>00189         std::string Name;
<a name="l00190"></a>00190         std::string Mail;
<a name="l00191"></a>00191     };
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     std::vector&lt;Recipient&gt; Recipients;
<a name="l00194"></a>00194     std::vector&lt;Recipient&gt; CCRecipients;
<a name="l00195"></a>00195     std::vector&lt;Recipient&gt; BCCRecipients;
<a name="l00196"></a>00196     std::vector&lt;std::string&gt; Attachments;
<a name="l00197"></a>00197     std::vector&lt;std::string&gt; MsgBody;
<a name="l00198"></a>00198  
<a name="l00199"></a>00199     <span class="keywordtype">void</span> ReceiveData();
<a name="l00200"></a>00200     <span class="keywordtype">void</span> SendData();
<a name="l00201"></a>00201     <span class="keywordtype">void</span> FormatHeader(<span class="keywordtype">char</span>*);
<a name="l00202"></a>00202     <span class="keywordtype">int</span> SmtpXYZdigits();
<a name="l00203"></a>00203     <a class="code" href="CSmtp_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a> ConnectRemoteServer(<span class="keyword">const</span> <span class="keywordtype">char</span>* server, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> port=0);
<a name="l00204"></a>00204     
<a name="l00205"></a>00205 };
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 
<a name="l00208"></a>00208 <span class="preprocessor">#endif // __CSMTP_H__</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Erzeugt am Thu Sep 26 2013 08:19:30 für gnublin-api von&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
